import { Meta, Story, Preview } from '@storybook/addon-docs/blocks';
import {Form, Text} from "../src";
import {State} from "./State"; 

<Meta title="Validation" />

# Validate on Submit

Validator functions will run on submission by default. Each function will receive the field as a props, 
and must return either `undefined` to signal validation passed, or a string to signal it failed.

```tsx
import {Form, Text} from "../src";

// ensure the field has over 5 chars
const validateLength = (val: string) => val && val.length > 5;

<Text field="username" validate={validateLength}/>
```

<Preview>
  <Story name="Validate on submit (default)">
    <Form>
        <label>
            Username:
            <Text field="username" validate={(x) => x && x.length > 5 ? undefined : 'enter 5 chars'}/>
        </label>
        <button type="submit">Submit</button>
        <State />
    </Form>
  </Story>
</Preview>

